<pip-document class="pip-scroll ">
    <div class="pip-body">
        <div class="w-stretch tm8 bm16">
            <div class="layout-row layout-align-start-center bm16">
                <pip-avatar class="rm16 pip-face tm0" pip-rebind="true" pip-id="$ctrl.item.ref_id" pip-name="$ctrl.item.ref_name">
                </pip-avatar>
                <div class="pip-content">
                    <p class="m0 text-body2 pip-title text-overflow flex">
                        {{ $ctrl.item.ref_name }}
                    </p>
                    <p class="pip-subtitle text-body text-overflow flex m0">
                        {{ $ctrl.item.time | formatMiddleDate }}
                    </p>
                </div>
            </div>
            <div class="layout-row layout-align-start-center event-content" ng-if="$ctrl.item.reason">
                <div class="flex-fixed rm16 lm8">
                    <md-icon md-svg-icon="icons:comment" class="incident-icon">
                    </md-icon>
                </div>
                <div class="event-text">
                    <div class="flex text-body1">
                        {{ $ctrl.item.reason }}
                    </div>
                </div>
            </div>

            <div class="layout-row layout-align-start-start tp8 event-content" ng-if="$ctrl.item.changes && $ctrl.item.changes.length > 0">
                <div class="flex-fixed tm4 rm16 lm8">
                    <md-icon md-svg-icon="icons:submenu" class="incident-icon">
                    </md-icon>
                </div>
                <div class="event-text flex">
                    <div>
                        <iqs-correction-param-table iqs-correction-params="$ctrl.item" iqs-correction-statistics="true">
                        </iqs-correction-param-table>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="pip-footer " style="height: 86px">
        <div class="pip-action-list w-stretch">
            <md-button class="pip-action-list-item" ng-click="$ctrl.onApproved($ctrl.item)" ng-disabled="$ctrl.ngDisabled()">

                <md-icon class="pip-pic" md-svg-icon="icons:check"></md-icon>
                <div class="pip-title">{{ ::'MANUAL_CORRECTIONS_ACCEPT' | translate }}</div>
            </md-button>

            <md-button class="pip-action-list-item" ng-click="$ctrl.onReject($ctrl.item)" ng-disabled="$ctrl.ngDisabled()">

                <md-icon class="pip-pic" md-svg-icon="icons:cross"></md-icon>
                <div class="pip-title">{{ ::'MANUAL_CORRECTIONS_REJECT' | translate }}</div>
            </md-button>

            <md-button class="pip-action-list-item" ng-click="$ctrl.onEdit($ctrl.item)" ng-disabled="$ctrl.ngDisabled()">

                <md-icon class="pip-pic" md-svg-icon="icons:pen"></md-icon>
                <div class="pip-title">{{ ::'MANUAL_CORRECTIONS_CORRECTION' | translate }}</div>
            </md-button>
        </div>
    </div>
</pip-document>